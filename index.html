<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="manifest" href="manifest.json" />
    <!-- ios support -->
    <link rel="apple-touch-icon" href="images/icons/icon-72x72.png" />
    <link rel="apple-touch-icon" href="images/icons/icon-96x96.png" />
    <link rel="apple-touch-icon" href="images/icons/icon-128x128.png" />
    <link rel="apple-touch-icon" href="images/icons/icon-144x144.png" />
    <link rel="apple-touch-icon" href="images/icons/icon-152x152.png" />
    <link rel="apple-touch-icon" href="images/icons/icon-192x192.png" />
    <link rel="apple-touch-icon" href="images/icons/icon-384x384.png" />
    <link rel="apple-touch-icon" href="images/icons/icon-512x512.png" />
    <meta name="apple-mobile-web-app-status-bar" content="#db4938" />
    <meta name="theme-color" content="#db4938" />
    <title>Dev'Coffee PWA</title>
  </head>
  <body>
    <main>
      <nav>
        <h1>Dev'Coffee</h1>
        <ul>
          <li>Home</li>
          <li>About</li>
          <li>Blog</li>
        </ul>
      </nav>
      <div class="container"></div>
    </main>
    <script src="js/app.js"></script>
        <script>
function millisToMinutesAndSeconds(millis) {
      var result = millis / 1000;
      return result;
    }
    var loadTime = window.performance.timing.domContentLoadedEventEnd - window.performance.timing.navigationStart;
    
    window.onload = function () {
      var loadTime = window.performance.timing.domContentLoadedEventEnd - window.performance.timing.navigationStart;
      var totalNoOfResources = window.performance.getEntriesByType("resource").length;
      console.error('Page start loading time ' + window.performance.timing.navigationStart);
      console.error('Page end loading time ' + window.performance.timing.domContentLoadedEventEnd);
      console.error('Page load time is ' + loadTime);
      console.error("Page load time in minutes and second: " + millisToMinutesAndSeconds(loadTime));
      var startT = new Date(window.performance.timing.navigationStart);
      startT.setHours(startT.getHours() + 2);
      var endT = new Date(window.performance.timing.domContentLoadedEventEnd);
      endT.setHours(endT.getHours() + 2);
      console.error("Resources loaded "+(window.performance.getEntriesByType("resource").length));

//       const Http = new XMLHttpRequest();
//       Http.open("POST", 'https://192.168.0.115:8001', true);
//       Http.send('edgyedgyapp::' + (window.performance.timing.navigationStart) + '::' + (window.performance.timing.domContentLoadedEventEnd) + (window.performance.getEntriesByType("resource").length));
    }
</script>
  </body>
</html>
